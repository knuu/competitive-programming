http://codeforces.com/contest/546

# div2 D. Soldier and Number Game

- 問題
    - T回(10^6以下)「a!/b!は1以上の整数で最大何回割り切れるか」(a, bは5\*10^6以下, a<=b)というクエリが与えられるので答えよ。
- 解法
    - 5\*10^6以下の数全てについて、a!, b!が素因数を何個もつか持つか調べて、差を取ればよい。
    - 素因数の総数は、まず、エラトステネスの篩の際に、2以上の素数でない数は、篩に素因数を1つ記憶させておく(素数は0もしくは1にしておけばよい)。その後、2から順番に、Nが素数なら素因数の個数は1個、Nが素数でないなら素因数の個数は(N/記憶した素因数 の素因数の個数) + 1 とすればよい。最後に累積和を取れば、階乗の素因数の個数がO(1)で分かる。O(max(a) + T)
- タグ: 数学、素因数分解、エラトステネスの篩
- レベル: 2

# div2 E. Soldier and Traveling

- 問題
    - グラフが与えられ、頂点に移動前と移動後のそれぞれの人数が与えられる。接続する1つの枝で移動するか、その頂点にとどまるかして、移動前から移動後の頂点の状態を実現したい。可能ならば、もといた頂点から移動後の頂点の人数を各頂点ごとに表示せよ。
- 解法
    - sourceから移動前の頂点、移動後の頂点からsinkに、与えられた人数の容量を持つ辺を張り、移動前の頂点から、移動後の自分の頂点と隣接する頂点へ容量無限大の辺を張る。そこで、最大フローを求めて、(移動前の人数の合計)=(移動後の人数の合計)=(最大フロー)となれば可能である。移動した人数は、INF-(フローを流した後の容量)で計算できる。O(VE^2)
- タグ: グラフ、フロー、最大流問題
- レベル: 3
