# div1 250 KingdomAndTrees

- 問題
    - 長さN(50以下)の数列A(要素は10^9以下)が与えられる。数列の要素の大きさを変更して数列が昇順になるようにするとき、最小どれだけの変更を許さないといけないか
- 解法
    - 二分探索+貪欲
    - 変更する長さXを決めたとき、左端からできるだけ小さくする
    - ただし、一つ前の要素よりは大きくないとダメ
    - よって、A[i]=max(A[i-1]+1, A[i]-X)とし、もとのA[i]と矛盾が出たらダメ、それ以外はOKとする
    - 計算量はO(N log max A)
- レベル: 2
- タグ: 二分探索、貪欲法

# div1 450 KingdomAndDice

- 問題
    - N面(50以下)サイコロが2つ与えられ、2人で勝負する。サイコロの目は、1以上X以下(10^9以下)の数が他の目と被らないように振り分けられており、1人目のサイコロのいくつかの目は0になっている。0の目のいくつかをX以下で他の目と被らないように、かつ1人目の勝率が0.5に最も近くなるように数を割り当てたとき、1人目の勝率を求めよ(複数個答えがある場合は小さい方を答えよ)
- 解法
    - まず0をある値に決めると、勝つ回数が何回増えるか決まる。勝つ回数が増え方は、値の範囲で決まるので、ある回数増えるような範囲を求めることができる。
        - 1回増える数はw_1個、2回増える数はw_2個、...、N回増える数はw_N個、ということを求める
    - dp[i][j]:=(残りi個分0の目に数を割り当てることができるときに、勝つ回数をjにできるか) とする
    - k=1からNについて、dp[i][j]がtrueのとき、l=0からmin(i, w_k)について、dp[i-l][j+l*k]=trueと更新する
    - 初期値はdp[0の個数][もとのサイコロでの勝数]=true
    - 最後は、i'=argmin(N^2/2-i)=argmin(N^2-2*i)となる最小のi'を求め、i'/(N*N)を答えとする
    - 計算量は、勝つ回数は最大N^2、0の目は最大Nなので、O(N*N*N^2*N)=O(N^5)
        - Nは50なので、long longに変換するテクでO(N^4)にできる
- タグ: DP、確率
- レベル: 3
